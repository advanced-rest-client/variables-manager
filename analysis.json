{
  "schema_version": "1.0.0",
  "elements": [
    {
      "description": "A manager for environments and variables. Non UI element that manages variables\nstate and handle data storage.\n\n### Example\n\n```html\n<variables-manager></variables-manager>\n```\n\n## New in version 2\n\n- PouchDB is optional dependency. Add your own version of PouchDB to use the\ncomponent.\n- Update/Delete actions has been moved to `arc-models/variables-model`",
      "summary": "",
      "path": "variables-manager.html",
      "properties": [
        {
          "name": "eventsTarget",
          "type": "Object | null | undefined",
          "description": "Events handlers target. By default the element listens on\n`window` object. If set, all events listeners will be attached to this\nobject instead of `window`.",
          "privacy": "public",
          "sourceRange": {
            "file": "../events-target-behavior/events-target-behavior.html",
            "start": {
              "line": 73,
              "column": 8
            },
            "end": {
              "line": 76,
              "column": 9
            }
          },
          "metadata": {
            "polymer": {
              "observer": "\"_eventsTargetChanged\"",
              "attributeType": "Object"
            }
          },
          "inheritedFrom": "ArcBehaviors.EventsTargetBehavior"
        },
        {
          "name": "_oldEventsTarget",
          "type": "Object | null | undefined",
          "description": "An event target used to attach listeners.",
          "privacy": "protected",
          "sourceRange": {
            "file": "../events-target-behavior/events-target-behavior.html",
            "start": {
              "line": 78,
              "column": 8
            },
            "end": {
              "line": 78,
              "column": 32
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Object"
            }
          },
          "inheritedFrom": "ArcBehaviors.EventsTargetBehavior"
        },
        {
          "name": "environment",
          "type": "string | null | undefined",
          "description": "Currently loaded environment.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 48,
              "column": 6
            },
            "end": {
              "line": 51,
              "column": 7
            }
          },
          "metadata": {
            "polymer": {
              "observer": "\"_environmentChanged\"",
              "attributeType": "String"
            }
          }
        },
        {
          "name": "_env",
          "type": "Object | null | undefined",
          "description": "Selected environment object from the data store if different than\n\"default\".",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 56,
              "column": 6
            },
            "end": {
              "line": 56,
              "column": 18
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Object"
            }
          }
        },
        {
          "name": "_vars",
          "type": "Array | null | undefined",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 57,
              "column": 6
            },
            "end": {
              "line": 57,
              "column": 18
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Array"
            }
          }
        },
        {
          "name": "variables",
          "type": "Array | null | undefined",
          "description": "List of variables associated with current `environment`.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 61,
              "column": 6
            },
            "end": {
              "line": 65,
              "column": 7
            }
          },
          "metadata": {
            "polymer": {
              "observer": "\"_appVarsChanged\"",
              "readOnly": true,
              "attributeType": "Array"
            }
          }
        },
        {
          "name": "inMemVariables",
          "type": "Array | null | undefined",
          "description": "List of variables that overrides all existing variables\n(system or app) and exists only in memory.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 70,
              "column": 6
            },
            "end": {
              "line": 70,
              "column": 27
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Array"
            }
          }
        },
        {
          "name": "systemVariables",
          "type": "Object",
          "description": "When set it includes system variables into the list of variables.\nThis should be a map of system variables.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 76,
              "column": 6
            },
            "end": {
              "line": 76,
              "column": 29
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Object"
            }
          }
        },
        {
          "name": "_sysVars",
          "type": "Array | null | undefined",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 77,
              "column": 6
            },
            "end": {
              "line": 81,
              "column": 7
            }
          },
          "metadata": {
            "polymer": {
              "observer": "\"_sysVarsChanged\"",
              "readOnly": true,
              "attributeType": "Array"
            }
          }
        },
        {
          "name": "initialized",
          "type": "boolean | null | undefined",
          "description": "A flag to determine of the component is fully initialized.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 85,
              "column": 6
            },
            "end": {
              "line": 85,
              "column": 64
            }
          },
          "metadata": {
            "polymer": {
              "notify": true,
              "readOnly": true,
              "attributeType": "Boolean"
            }
          }
        },
        {
          "name": "sysVariablesDisabled",
          "type": "boolean | null | undefined",
          "description": "When set the `_sysVars` will not be computed and therefore included\ninto variables list.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 90,
              "column": 6
            },
            "end": {
              "line": 90,
              "column": 35
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Boolean"
            }
          }
        },
        {
          "name": "appVariablesDisabled",
          "type": "boolean | null | undefined",
          "description": "When set the application (local) defined variables are not included.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 94,
              "column": 6
            },
            "end": {
              "line": 94,
              "column": 35
            }
          },
          "metadata": {
            "polymer": {
              "attributeType": "Boolean"
            }
          }
        }
      ],
      "methods": [
        {
          "name": "connectedCallback",
          "description": "",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 112,
              "column": 2
            },
            "end": {
              "line": 115,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "disconnectedCallback",
          "description": "",
          "privacy": "public",
          "sourceRange": {
            "file": "../events-target-behavior/events-target-behavior.html",
            "start": {
              "line": 86,
              "column": 5
            },
            "end": {
              "line": 91,
              "column": 6
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          },
          "inheritedFrom": "ArcBehaviors.EventsTargetBehavior"
        },
        {
          "name": "_eventsTargetChanged",
          "description": "Removes old handlers (if any) and attaches listeners on new event\nevent target.",
          "privacy": "protected",
          "sourceRange": {
            "file": "../events-target-behavior/events-target-behavior.html",
            "start": {
              "line": 99,
              "column": 4
            },
            "end": {
              "line": 105,
              "column": 5
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "eventsTarget",
              "type": "?Node",
              "description": "Event target to set handlers on. If not set it\nwill set handlers on the `window` object."
            }
          ],
          "return": {
            "type": "void"
          },
          "inheritedFrom": "ArcBehaviors.EventsTargetBehavior"
        },
        {
          "name": "_attachListeners",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 117,
              "column": 2
            },
            "end": {
              "line": 128,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "node"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_detachListeners",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 130,
              "column": 2
            },
            "end": {
              "line": 141,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "node"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_initialize",
          "description": "Initializes the element.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 145,
              "column": 2
            },
            "end": {
              "line": 167,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_computeSysVars",
          "description": "Computes list of variables object for system variables",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 174,
              "column": 2
            },
            "end": {
              "line": 193,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "systemVariables",
              "type": "Object",
              "description": "Key - value pairs of system variables"
            },
            {
              "name": "sysVariablesDisabled",
              "type": "Boolean",
              "description": "If true it always returns `false`."
            }
          ],
          "return": {
            "type": "(Array.<Object> | undefined)",
            "desc": "List of variables representing system variables."
          }
        },
        {
          "name": "_envNameHandler",
          "description": "Handler for `environment-current` dispatched by managers to ask\nfor current environment.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 199,
              "column": 2
            },
            "end": {
              "line": 207,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_environmentChanged",
          "description": "Handler for the `environment` property change.\n\nFires a `selected-environment-changed` with a debouncer set to next render\nframe.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 214,
              "column": 2
            },
            "end": {
              "line": 223,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "__environmentChanged",
          "description": "Handler for the `environment` property change.\n\nFires a `selected-environment-changed` custom event and updates list of variables\nin the environment.",
          "privacy": "private",
          "sourceRange": {
            "start": {
              "line": 233,
              "column": 2
            },
            "end": {
              "line": 259,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "environment",
              "type": "String"
            }
          ],
          "return": {
            "type": "Promise"
          }
        },
        {
          "name": "_readEnvObjectData",
          "description": "Reads environment object from the data stopre if different than `default`.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 267,
              "column": 2
            },
            "end": {
              "line": 296,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "environment",
              "type": "String",
              "description": "Environment value."
            }
          ],
          "return": {
            "type": "Promise"
          }
        },
        {
          "name": "listAllVariables",
          "description": "Lists app, sys and in mem variables into single array.",
          "privacy": "public",
          "sourceRange": {
            "start": {
              "line": 302,
              "column": 2
            },
            "end": {
              "line": 334,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "Array.<Object>",
            "desc": "List of all variables."
          }
        },
        {
          "name": "_notifyVarsListChanged",
          "description": "Combines both app variables and in memory variables\nand informs listeners about the change.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 339,
              "column": 2
            },
            "end": {
              "line": 348,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_updateVariablesList",
          "description": "Updates the list of variables for current environment.\n\nThis task is asynchronus.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 356,
              "column": 2
            },
            "end": {
              "line": 399,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "Promise",
            "desc": "Resolved promise with the list of variables for the\nenvironment."
          }
        },
        {
          "name": "_handleException",
          "description": "Handles exceptions when occur by logging them to the console and\nsending an analytics report.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 406,
              "column": 2
            },
            "end": {
              "line": 417,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "cause",
              "type": "Error",
              "description": "An error object with description."
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_envChnageHandler",
          "description": "A handler for the `selected-environment-changed` custom event.\nUpdates the `environment` property if the event was sent by other elemenet\nthan `this`.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 425,
              "column": 2
            },
            "end": {
              "line": 432,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_dataImportHandler",
          "description": "Handler for the `data-imported` custom event. Refreshes list of environmants\nand variables.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 437,
              "column": 2
            },
            "end": {
              "line": 439,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_onDatabaseDestroy",
          "description": "Handler for the `datastore-destroyed` custom event.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 445,
              "column": 2
            },
            "end": {
              "line": 463,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_eventCancelled",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 465,
              "column": 2
            },
            "end": {
              "line": 473,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e"
            }
          ]
        },
        {
          "name": "_cancelEvent",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 475,
              "column": 2
            },
            "end": {
              "line": 478,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_envUpdateHandler",
          "description": "A handler for the `environment-updated` custom event.\nUpdates the environment in the data store.\n\nThe `environment-updated` custom event should be cancellable or the event\nwon't be handled at all.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 488,
              "column": 2
            },
            "end": {
              "line": 500,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_envDeleteHandler",
          "description": "A handler for the `environment-deleted` custom event.\nIf deleted environment is current environment then it sets environment\nto `default`.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 508,
              "column": 2
            },
            "end": {
              "line": 517,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_varUpdateHandler",
          "description": "A handler for the `variable-updated` custom event.\nUpdates the variable in the variables list if the environment name match.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 523,
              "column": 2
            },
            "end": {
              "line": 542,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_varDeleteHandler",
          "description": "Removes the valiable from the lsit of variables if the variable is\nin the list.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 549,
              "column": 2
            },
            "end": {
              "line": 560,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "Event"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_varStoreActionHandler",
          "description": "A handler for `variable-store-action` dispatched by request actions logic.\nCreates / updates a variable with new data.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 567,
              "column": 2
            },
            "end": {
              "line": 590,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "Promise"
          }
        },
        {
          "name": "_variableIndexByName",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 595,
              "column": 2
            },
            "end": {
              "line": 600,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "name",
              "type": "String",
              "description": "Variable name"
            }
          ],
          "return": {
            "type": "Number",
            "desc": "Index of the variable in the variables list or -1."
          }
        },
        {
          "name": "_updateVariable",
          "description": "Dispatches variable updated custom event to the model.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 606,
              "column": 2
            },
            "end": {
              "line": 620,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "value",
              "type": "Object",
              "description": "Variable to update"
            }
          ],
          "return": {
            "type": "Promise"
          }
        },
        {
          "name": "_varUpdateActionHandler",
          "description": "In memory variable change - without storing it to the store.",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 625,
              "column": 2
            },
            "end": {
              "line": 648,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "e",
              "type": "CustomEvent"
            }
          ],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_sysVarsChanged",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 650,
              "column": 2
            },
            "end": {
              "line": 655,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        },
        {
          "name": "_computeAppVars",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 657,
              "column": 2
            },
            "end": {
              "line": 662,
              "column": 3
            }
          },
          "metadata": {},
          "params": [
            {
              "name": "record"
            },
            {
              "name": "appVariablesDisabled"
            }
          ]
        },
        {
          "name": "_appVarsChanged",
          "description": "",
          "privacy": "protected",
          "sourceRange": {
            "start": {
              "line": 664,
              "column": 2
            },
            "end": {
              "line": 669,
              "column": 3
            }
          },
          "metadata": {},
          "params": [],
          "return": {
            "type": "void"
          }
        }
      ],
      "staticMethods": [],
      "demos": [
        {
          "url": "demo/index.html",
          "description": ""
        }
      ],
      "metadata": {},
      "sourceRange": {
        "start": {
          "line": 39,
          "column": 0
        },
        "end": {
          "line": 696,
          "column": 1
        }
      },
      "privacy": "public",
      "superclass": "HTMLElement",
      "name": "LogicElements.VariablesManager",
      "attributes": [
        {
          "name": "events-target",
          "description": "Events handlers target. By default the element listens on\n`window` object. If set, all events listeners will be attached to this\nobject instead of `window`.",
          "sourceRange": {
            "file": "../events-target-behavior/events-target-behavior.html",
            "start": {
              "line": 73,
              "column": 8
            },
            "end": {
              "line": 76,
              "column": 9
            }
          },
          "metadata": {},
          "type": "Object | null | undefined",
          "inheritedFrom": "ArcBehaviors.EventsTargetBehavior"
        },
        {
          "name": "environment",
          "description": "Currently loaded environment.",
          "sourceRange": {
            "start": {
              "line": 48,
              "column": 6
            },
            "end": {
              "line": 51,
              "column": 7
            }
          },
          "metadata": {},
          "type": "string | null | undefined"
        },
        {
          "name": "variables",
          "description": "List of variables associated with current `environment`.",
          "sourceRange": {
            "start": {
              "line": 61,
              "column": 6
            },
            "end": {
              "line": 65,
              "column": 7
            }
          },
          "metadata": {},
          "type": "Array | null | undefined"
        },
        {
          "name": "in-mem-variables",
          "description": "List of variables that overrides all existing variables\n(system or app) and exists only in memory.",
          "sourceRange": {
            "start": {
              "line": 70,
              "column": 6
            },
            "end": {
              "line": 70,
              "column": 27
            }
          },
          "metadata": {},
          "type": "Array | null | undefined"
        },
        {
          "name": "system-variables",
          "description": "When set it includes system variables into the list of variables.\nThis should be a map of system variables.",
          "sourceRange": {
            "start": {
              "line": 76,
              "column": 6
            },
            "end": {
              "line": 76,
              "column": 29
            }
          },
          "metadata": {},
          "type": "Object"
        },
        {
          "name": "initialized",
          "description": "A flag to determine of the component is fully initialized.",
          "sourceRange": {
            "start": {
              "line": 85,
              "column": 6
            },
            "end": {
              "line": 85,
              "column": 64
            }
          },
          "metadata": {},
          "type": "boolean | null | undefined"
        },
        {
          "name": "sys-variables-disabled",
          "description": "When set the `_sysVars` will not be computed and therefore included\ninto variables list.",
          "sourceRange": {
            "start": {
              "line": 90,
              "column": 6
            },
            "end": {
              "line": 90,
              "column": 35
            }
          },
          "metadata": {},
          "type": "boolean | null | undefined"
        },
        {
          "name": "app-variables-disabled",
          "description": "When set the application (local) defined variables are not included.",
          "sourceRange": {
            "start": {
              "line": 94,
              "column": 6
            },
            "end": {
              "line": 94,
              "column": 35
            }
          },
          "metadata": {},
          "type": "boolean | null | undefined"
        }
      ],
      "events": [
        {
          "type": "CustomEvent",
          "name": "selected-environment-changed",
          "description": "Fired when selected environment has changed.\nThis event is not fired if the change has been causes by the\n`selected-environment-changed` fired by other element.",
          "metadata": {}
        },
        {
          "type": "CustomEvent",
          "name": "variable-updated",
          "description": "Dispatched when store variable request action is handled.",
          "metadata": {}
        },
        {
          "type": "CustomEvent",
          "name": "variables-list-changed",
          "description": "Fired when the list of variables for current environment has been read\nand set. UIs should update list of current varables from\nthis events.",
          "metadata": {}
        },
        {
          "type": "CustomEvent",
          "name": "initialized-changed",
          "description": "Fired when the `initialized` property changes.",
          "metadata": {}
        }
      ],
      "styling": {
        "cssVariables": [],
        "selectors": []
      },
      "slots": [],
      "tagname": "variables-manager",
      "mixins": [
        "ArcBehaviors.EventsTargetBehavior"
      ]
    }
  ]
}
